---
title: Windowed
description: Define features as aggregations of data over sliding time ranges.
published: true
---

Windowed features are features defined over time ranges. For example, you can use windowed
features to count the number of login attempts made by a user over the past 10 minutes, or
to track the largest purchase amount a cardholder has made in the past 30 days.

## Feature definition

Here is an example of a [windowed](/api-docs/#windowed) feature representing the number of
failed logins in the last 10 minutes, 30 minutes, and 1 day:

```py
@features
class User:
    id: int
    num_failed_logins: Windowed[int] = windowed(
        "10m",
        "30m",
        "1d",
        max_staleness="10m",
        default=0,
        owner="trust-and-safety",
    )
```

Windowed features support much of the same functionality as a normal feature.  Like features for mapping resolvers,
windowed features are most often used alongside [max_staleness](/api-docs#windowed.max_staleness) and
[etl_offline_to_online](/api-docs#windowed.etl_offline_to_online) to allow the features to be sent to online store and
offline store after each window period.  Windowed features often use [default](/api-docs#windowed.default) to set a
default value to return when there are no messages within a time period.

A windowed feature can be referenced in a query or a resolver in the following, equivalent ways. Each
column below shows the possible syntax variants for a given time window.

```py
# Note: The last value for each list is the time converted to seconds
User.num_failed_logins("**10m**")    User.num_failed_logins("**1d**")       User.num_failed_logins("**1h30m**")
User.num_failed_logins["**10m**"]    User.num_failed_logins["**1d**"]       User.num_failed_logins["**1h30m**"]
User.num_failed_logins_10m       User.num_failed_logins_1d          User.num_failed_logins_1h30m
User.num_failed_logins__10m__    User.num_failed_logins__1d__       User.num_failed_logins__1h30m__
User.num_failed_logins__600__    User.num_failed_logins__86400__    User.num_failed_logins__5400__
```

### Input to other resolvers

Windowed features can be inputs to resolvers:

```python
@online
def account_under_attack(
    failed_logins_30m: User.num_failed_logins('30m'),
    failed_logins_1d: User.num_failed_logins('1d')
) -> ...:
    return failed_logins_30m > 10 or failed_logins_1d > 100
```

## Windowed streaming
To learn more about using windowed features with streaming data sources, see our
documentation on [windowed streaming](/docs/windowed-streaming).