---
title: Webhooks
description: Integrate Chalk alerts with Webhooks.
published: true
---

Chalk can send push notifications to configured external endpoints through webhooks.

Webhooks are a beta feature for Chalk - contact our support team to get webhooks enabled in your
environments.

---

## Add a Webhook

Webhook configuration is under the settings sidebar, under Environment. Users can configure:

- The webhook endpoint
- Subscriptions - see below for the catalog of subscriptions available
- Any additional headers necessary to communicate with the webhook

![Integration for Webhooks](/img/webhooks.png)

---

## Webhook Schema

All webhooks will pass a JSON body containing the following fields:

- `subscription`: The name of the action that triggered this webhook. See below for options
- `payload`: A map of strings whose content varies based on the specific subscription triggered. Individual action fields are documented below.
- `environment_id`: The environment originating the webhook.
- `webhook_id`: A unique ID for the configured webhook.
- `idempotency_key`: A unique key for the webhook *event*.
- `event_timestamp`: The original time the event was published, in [RFC 3339](https://datatracker.ietf.org/doc/html/rfc3339) format.

## Available Subscriptions

Chalk supports webhook subscriptions for incidents and deployments.

### Incidents

Incident Opens (`incident.opened`): When a metric chart goes over their alert threshold and opens a Chalk incident.
The payload contains:

- `incident_id`: The Chalk internal unique ID for the incident.
- `incident_url`: A Chalk dashboard URL for the incident.
- `metric_id`: The Chalk internal unique ID for the chart that triggered the incident.
- `metric_name`: The name of the alert on the chart that triggered the incident.
- `severity`: The severity of the configured alert. One of `Info`, `Warning`, `Error`, and `Critical`.
- `summary`: A human-readable title message about the incident.
- `environment_id`: The ID of the environment containing the incident.
- `project_id`: The ID of the project containing the environment.

Incident Closes (`incident.closed`): When a metric chart returns below their alert threshold and closes a Chalk incident.
Includes the same payload fields, except that `severity` is always `Resolved`.

### Deployments

All deployment and apply payloads have shared fields, in addition to action-specific fields:

- `deployment_id`: The id of the deployment.
- `deployment_url`: A Chalk dashboard URL for the deployment.
- `environment_id`: The environment ID for the deployment.
- `project_id`: The ID of the project containing the environment.

The following subscriptions are available:

Apply Starts (`apply.started`): When a chalk apply action successfully starts. Contains no extra payload fields.

Apply Validation Error (`apply.validation_failed`): When a chart apply action fails to start due to source code or
environment configuration errors. Contains an `error` field with more detail.

Deployment Fails (`deployment.failed`): When a deployment fails to start up successfully. Contains a `reason` for the
failed deployment.

Deployment Succeeds (`deployment.succeeded`): When a deployment successfully spins up. Contains no extra payload fields

---

## Test Webhooks

Webhooks can be tested from the web dashboard and will send a test event with a `webhook.test` subscription.

### Help

If you need help with your integration, please contact us at `support@chalk.ai`.
